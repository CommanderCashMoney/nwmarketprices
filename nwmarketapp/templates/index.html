{% extends 'base.html' %}
{% load static %}
{% block additional_includes %}
    <script src="{% static 'nwmarketapp/app.js' %}"></script>
    <script src="{% static 'nwmarketapp/init-typeahead.js' %}"></script>
{% endblock %}
{% block content %}
<div class="container py-0 px-2">
    <div class="columns mt-1 mb-0 hidden" id="price-data">
        <div class="column is-two-fifths is-flex mx-0 p-1">
            <div class="container box has-text-centered my-auto full-height white-border" id="lowest-price-data">
                {% include 'snippets/lowest-price.html' %}
            </div>
        </div>
        <div class="column is-three-fifths has-text-centered p-1 is-flex full-width">
            <div class="box white-border full-width">
            {% include 'snippets/item-graph.html' %}
            </div>
        </div>
    </div>
    <div class="columns mt-1 mb-0 hidden" id="welcome-banner">
        <div class="column is-flex mx-0 p-1">
            <div class="container box has-text-centered my-auto full-height white-border" id="lowest-price-data">
                <div class="is-size-3">Welcome to New World Market Prices!</div>
                <br>
                <div class="is-size-5">Choose a server and select from the popular item lists, or search for an item from the search bar above.</div>
                <br>
                <div class="is-size-5">Server not listed or up to date? Become a scanner! Head over to our <a href="https://discord.gg/9xfcG6jTVj" style="text-decoration: none">discord channel</a> to find out more.</div>
            </div>
        </div>
    </div>
</div>
<div class="container py-0 px-2">
    <div class="columns mt-0 mb-0">
        <div class="column is-one-third is-flex mx-0 p-3">
            <div class="container my-auto full-height" >
            {% include "snippets/popular-end-game-empty.html" with name="Popular End Game Items" id="popular-end-game-items" %}
            </div>
        </div>
        <div class="column is-one-third is-flex mx-0 p-3">
            <div class="container my-auto full-height">
            {% include "snippets/popular-end-game-empty.html" with name="Popular Base Materials" id="popular-base-materials"  %}
            </div>
        </div>
        <div class="column is-one-third is-flex mx-0 p-3" id="competitive-bar-column">
            <div class="container my-auto full-height">
                {% include 'snippets/competitive-items.html' %}
            </div>
        </div>
    </div>
    <div class="columns mt-1">
        <div class="column is-one-third is-flex mx-0 p-3">
            <div class="container my-auto full-height">
                {% include "snippets/popular-end-game-empty.html" with name="Motes" id="motes" %}
            </div>
        </div>
        <div class="column is-one-third is-flex mx-0 p-3">
            <div class="container my-auto full-height">
                {% include "snippets/popular-end-game-empty.html" with name="Refining Reagents" id="refining-reagents" %}
            </div>
        </div>
        <div class="column is-one-third is-flex mx-0 p-3">
            <div class="container my-auto full-height">
                {% include "snippets/popular-end-game-empty.html" with name="Trophy Materials" id="trophy-materials" %}
            </div>
        </div>
    </div>
</div>
<div class="container py-0">
    <div class="container my-4 mx-0 is-size-5 has-text-centered p-3">
        Data from additional servers coming soon. We are looking for more Market Watchers, head over to the <a href="https://discord.gg/9xfcG6jTVj" style="text-decoration: underline">discord channel</a> to find out more.
How to <a id="export-data-modal-trigger" style="text-decoration: underline">export prices</a> for use with gaming.tools crafting calculator
    </div>
</div>
<script>
const servers = {{ servers|safe }};
let top10data = null;
</script>
{% include 'snippets/export-data-modal.html' %}
{% endblock %}